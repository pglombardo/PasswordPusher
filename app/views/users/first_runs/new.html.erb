<% title(I18n._("First Run Setup")) %>
<h2 class='my-3'><%= I18n._("First Run Setup") %></h2>

<%= form_for(resource, as: resource_name, url: first_run_path) do |f| %>
  <%= render "devise/shared/error_messages", resource: resource %>

  <% if FirstRunBootCode.needed? %>
    <div class="alert alert-warning text-start" role="alert">
      <strong><%= I18n._("Boot Code Required") %></strong>
      <div><%= I18n._("Enter the boot code shown in the application logs during startup.") %></div>
    </div>

    <div class="form-floating mb-2">
      <%= f.text_field :boot_code,
        class: "form-control",
        placeholder: I18n._("Boot Code"),
        required: true,
        autocomplete: "off",
        autofocus: true %>
      <%= f.label I18n._("Boot Code"), for: :user_boot_code %>
    </div>
  <% end %>

  <div class="form-floating mb-2">
    <%= f.email_field :email,
      class: "form-control",
      autocomplete: "email",
      placeholder: I18n._("Email"),
      required: true %>
    <%= f.label I18n._("Email"), for: :user_email %>
  </div>

  <div class="form-floating mb-2">
    <%= f.password_field :password,
      class: "form-control",
      autocomplete: "new-password",
      placeholder: I18n._("Password"),
      required: true %>
    <%= f.label I18n._("Password"), for: :user_password %>
  </div>

  <div class="form-floating">
    <%= invisible_captcha %>
  </div>

  <% if @minimum_password_length %>
    <p class="text-muted">
      * <%= sprintf(I18n.t('devise.registrations.password_minimum'), @minimum_password_length) %>
    </p>
  <% end %>

  <button class="w-100 btn btn-lg btn-primary mt-3" type="submit">
    <%= I18n._("Create Admin Account") %>
  </button>
<% end %>
